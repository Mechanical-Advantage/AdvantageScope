"use strict";(self.webpackChunkadvantagescope_docs=self.webpackChunkadvantagescope_docs||[]).push([[189],{7935:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"tab-reference/swerve","title":"\ud83e\udd80 Swerve","description":"The swerve tab shows the state of four swerve modules, including the velocity vectors, idle positions, robot rotation, and chassis speeds.","source":"@site/docs/tab-reference/swerve.md","sourceDirName":"tab-reference","slug":"/tab-reference/swerve","permalink":"/tab-reference/swerve","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"sidebar","previous":{"title":"\ud83c\udfae Joysticks","permalink":"/tab-reference/joysticks"},"next":{"title":"\u2699\ufe0f Mechanism","permalink":"/tab-reference/mechanism"}}');var a=n(4848),s=n(8453),o=n(1470),i=n(9365);const l={sidebar_position:9},c="\ud83e\udd80 Swerve",d={},u=[{value:"Adding Sources",id:"adding-sources",level:2},{value:"Data Format",id:"data-format",level:2},{value:"Configuration",id:"configuration",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:r}=t;return r||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"-swerve",children:"\ud83e\udd80 Swerve"})}),"\n",(0,a.jsx)(t.p,{children:"The swerve tab shows the state of four swerve modules, including the velocity vectors, idle positions, robot rotation, and chassis speeds."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Overview of swerve tab",src:n(2620).A+"",width:"2160",height:"1698"})}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Timeline Controls"}),(0,a.jsx)(t.p,{children:"The timeline is used to control playback and visualization. Clicking on the timeline selects a time, and right-clicking deselects it. The selected time is synchronized across all tabs, making it easy to quickly find this location in other views."}),(0,a.jsx)(t.p,{children:"The green sections of the timeline indicate when the robot is autonomous, and the blue sections indicate when the robot is teleoperated."}),(0,a.jsxs)(t.p,{children:["To zoom, place the cursor over the timeline and scroll up or down. A range can also be selecting by clicking and dragging while holding ",(0,a.jsx)(t.code,{children:"Shift"}),". Move left and right by scrolling horizontally (on supported devices), or by clicking and dragging on the timeline. When connected live, scrolling to the left unlocks from the current time, and scrolling all the way to the right locks to the current time again. Press ",(0,a.jsx)(t.code,{children:"Ctrl+\\"})," to zoom to the period where the robot is enabled."]}),(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Timeline",src:n(6651).A+"",width:"1560",height:"64"})})]}),"\n",(0,a.jsx)(t.h2,{id:"adding-sources",children:"Adding Sources"}),"\n",(0,a.jsxs)(t.p,{children:['To get started, drag a field to the "Sources" section. Delete a source using the X button, or hide it temporarily by clicking the eye icon or double-clicking the field name. To remove all sources, click the trash can near the axis title and then ',(0,a.jsx)(t.code,{children:"Clear All"}),". Sources can be rearranged in the list by clicking and dragging."]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"To customize each source, click the colored icon or right-click on the field name."})," AdvantageScope supports three sources types:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Module States:"})," A set of four swerve module states, displayed as vectors on the diagram."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Chassis Speeds:"})," Linear and angular speeds displayed in the center of the diagram."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Rotation:"})," Angular position used to rotate the diagram."]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"data-format",children:"Data Format"}),"\n",(0,a.jsxs)(t.p,{children:["Data should be published as a byte-encoded struct or protobuf, using the ",(0,a.jsx)(t.code,{children:"SwerveModuleState[]"}),", ",(0,a.jsx)(t.code,{children:"ChassisSpeeds"}),", ",(0,a.jsx)(t.code,{children:"Rotation2d"}),", or ",(0,a.jsx)(t.code,{children:"Rotation3d"})," types."]}),"\n",(0,a.jsx)(t.admonition,{type:"warning",children:(0,a.jsxs)(t.p,{children:["The legacy number array format for swerve data is now deprecated. See ",(0,a.jsx)(t.a,{href:"/whats-new/legacy-formats",children:"here"})," for details."]})}),"\n",(0,a.jsx)(t.p,{children:"Many FRC libraries support the struct format, including WPILib and AdvantageKit. The example code below shows how to log swerve module states in Java."}),"\n",(0,a.jsxs)(o.A,{groupId:"library",children:[(0,a.jsx)(i.A,{value:"wpilib",label:"WPILib",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'SwerveModuleState[] states = new SwerveModuleState[] {\n  new SwerveModuleState(),\n  new SwerveModuleState(),\n  new SwerveModuleState(),\n  new SwerveModuleState()\n}\n\nStructArrayPublisher<SwerveModuleState> publisher = NetworkTableInstance.getDefault()\n.getStructArrayTopic("MyStates", SwerveModuleState.struct).publish();\n\nperiodic() {\n  publisher.set(states);\n}\n'})})}),(0,a.jsx)(i.A,{value:"advantagekit",label:"AdvantageKit",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'SwerveModuleState[] states = new SwerveModuleState[] {\n  new SwerveModuleState(),\n  new SwerveModuleState(),\n  new SwerveModuleState(),\n  new SwerveModuleState()\n}\n\nLogger.recordOutput("MyStates", states);\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,a.jsx)(t.p,{children:"The following configuration options are available:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Max Speed:"})," The maximum achievable speed of the modules, used to adjust the size of the vectors."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Frame Size:"})," The distances between the left-right and front-back swerve modules. Changes the aspect ratio of the robot diagram."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Orientation:"})," Adjusts the direction the robot diagram is pointed. This option is often useful to align with odometry data or match videos."]}),"\n"]}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://www.youtube.com/watch?v=IbbwtyM8Dxs",children:"\ud83e\udd80 \ud83e\udd80 \ud83e\udd80 \ud83e\udd80 \ud83e\udd80 \ud83e\udd80 \ud83e\udd80 \ud83e\udd80 \ud83e\udd80"})})})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},9365:(e,t,n)=>{n.d(t,{A:()=>o});n(6540);var r=n(4164);const a={tabItem:"tabItem_Ymn6"};var s=n(4848);function o(e){let{children:t,hidden:n,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,o),hidden:n,children:t})}},1470:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(6540),a=n(4164),s=n(3104),o=n(6347),i=n(205),l=n(7485),c=n(1682),d=n(679);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const a=(0,o.W6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(a.location.search);t.set(s,e),a.replace({...a.location,search:t.toString()})}),[s,a])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,s=h(e),[o,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:s}))),[c,u]=m({queryString:n,groupId:a}),[b,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,s]=(0,d.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:a}),g=(()=>{const e=c??b;return p({value:e,tabValues:s})?e:null})();(0,i.A)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,s]),tabValues:s}}var f=n(2303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(4848);function w(e){let{className:t,block:n,selectedValue:r,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const t=e.currentTarget,n=l.indexOf(t),a=i[n].value;a!==r&&(c(t),o(a))},u=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:i.map((e=>{let{value:t,label:n,attributes:s}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>l.push(e),onKeyDown:u,onClick:d,...s,className:(0,a.A)("tabs__item",g.tabItem,s?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function x(e){let{lazy:t,children:n,selectedValue:s}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function j(e){const t=b(e);return(0,v.jsxs)("div",{className:(0,a.A)("tabs-container",g.tabList),children:[(0,v.jsx)(w,{...t,...e}),(0,v.jsx)(x,{...t,...e})]})}function y(e){const t=(0,f.A)();return(0,v.jsx)(j,{...e,children:u(e.children)},String(t))}},2620:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/swerve-1-cbd67c3465a63557ca18fdb15e1a5911.png"},6651:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/timeline-49a7a2d7967ecebb06a54e460dffa7b3.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var r=n(6540);const a={},s=r.createContext(a);function o(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);