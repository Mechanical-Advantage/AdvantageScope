"use strict";(self.webpackChunkadvantagescope_docs=self.webpackChunkadvantagescope_docs||[]).push([[40],{8132:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"tab-reference/odometry","title":"\ud83d\uddfa Odometry","description":"The odometry tab shows a 2D visualization of the robot overlayed on a map of the field. It can also show extra data like vision targeting status and reference poses.","source":"@site/docs/tab-reference/odometry.md","sourceDirName":"tab-reference","slug":"/tab-reference/odometry","permalink":"/tab-reference/odometry","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"sidebar","previous":{"title":"\ud83d\udcc9 Line Graph","permalink":"/tab-reference/line-graph"},"next":{"title":"\ud83d\udc40 3D Field","permalink":"/tab-reference/3d-field"}}');var a=n(4848),o=n(8453),i=n(1470),s=n(9365);const l={sidebar_position:2},c="\ud83d\uddfa Odometry",d={},u=[{value:"Adding Objects",id:"adding-objects",level:2},{value:"Data Format",id:"data-format",level:2},{value:"Configuration",id:"configuration",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:r}=t;return r||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"-odometry",children:"\ud83d\uddfa Odometry"})}),"\n",(0,a.jsx)(t.p,{children:"The odometry tab shows a 2D visualization of the robot overlayed on a map of the field. It can also show extra data like vision targeting status and reference poses."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Overview of odometry tab",src:n(7813).A+"",width:"2424",height:"1524"})}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Timeline Controls"}),(0,a.jsx)(t.p,{children:"The timeline is used to control playback and visualization. Clicking on the timeline selects a time, and right-clicking deselects it. The selected time is synchronized across all tabs, making it easy to quickly find this location in other views."}),(0,a.jsx)(t.p,{children:"The green sections of the timeline indicate when the robot is autonomous, and the blue sections indicate when the robot is teleoperated."}),(0,a.jsxs)(t.p,{children:["To zoom, place the cursor over the timeline and scroll up or down. A range can also be selecting by clicking and dragging while holding ",(0,a.jsx)(t.code,{children:"Shift"}),". Move left and right by scrolling horizontally (on supported devices), or by clicking and dragging on the timeline. When connected live, scrolling to the left unlocks from the current time, and scrolling all the way to the right locks to the current time again. Press ",(0,a.jsx)(t.code,{children:"Ctrl+\\"})," to zoom to the period where the robot is enabled."]}),(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Timeline",src:n(6651).A+"",width:"1560",height:"64"})})]}),"\n",(0,a.jsxs)(t.admonition,{type:"warning",children:[(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Why are there two 2025 field options?"})}),(0,a.jsxs)(t.p,{children:['AdvantageScope includes two 2025 field images: "2025 Field (Welded)" and "2025 Field (AndyMark)". As explained in ',(0,a.jsx)(t.a,{href:"https://firstfrc.blob.core.windows.net/frc2025/Manual/TeamUpdates/TeamUpdate12.pdf",children:"Team Update 12"}),", there are two versions of the Reefscape field with different dimensions and processor locations (see the Team Update for details on which field is used at each event). Teams should use the correct AprilTag layout and field dimensions in code and on any vision coprocessors, then ",(0,a.jsx)(t.strong,{children:"choose the matching field image in AdvantageScope to ensure that the visualization is accurat"}),"e. Documentation is available from ",(0,a.jsx)(t.a,{href:"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/apriltag/AprilTagFields.html",children:"WPILib"}),", ",(0,a.jsx)(t.a,{href:"https://docs.limelightvision.io/docs/docs-limelight/pipeline-apriltag/apriltag-map-specification",children:"Limelight"}),", and ",(0,a.jsx)(t.a,{href:"https://docs.photonvision.org/en/latest/docs/apriltag-pipelines/multitag.html#updating-the-field-layout",children:"PhotonVision"})," about changing the AprilTag layout."]}),(0,a.jsx)(t.p,{children:(0,a.jsx)(t.em,{children:'The 2025 field image used by AdvantageScope prior to Febuary 2025 is equivalent to the "2025 Field (Welded) option.'})})]}),"\n",(0,a.jsx)(t.h2,{id:"adding-objects",children:"Adding Objects"}),"\n",(0,a.jsxs)(t.p,{children:['To get started, drag a field to the "Poses" section. Delete an object using the X button, or hide it temporarily by clicking the eye icon or double-clicking the field name. To remove all objects, click the trash can near the axis title and then ',(0,a.jsx)(t.code,{children:"Clear All"}),". Objects can be rearranged in the list by clicking and dragging."]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"To customize each object, click the colored icon or right-click on the field name."})," AdvantageScope supports a large number of object types, many of which can be customized (such as changing colors). Some objects must be added as children to an existing object."]}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.p,{children:["To see a full list of supported object types, click the ",(0,a.jsx)(t.code,{children:"?"})," icon. This list also includes the supported data types and whether the objects must be added as children."]})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Odometry with objects",src:n(2062).A+"",width:"1200",height:"686"})}),"\n",(0,a.jsx)(t.h2,{id:"data-format",children:"Data Format"}),"\n",(0,a.jsxs)(t.p,{children:["Geometry data should be published as a byte-encoded struct or protobuf. Various 2D and 3D geometry types are supported, including ",(0,a.jsx)(t.code,{children:"Pose2d"}),", ",(0,a.jsx)(t.code,{children:"Pose3d"}),", ",(0,a.jsx)(t.code,{children:"Translation2d"}),", ",(0,a.jsx)(t.code,{children:"Translation3d"}),", and more."]}),"\n",(0,a.jsx)(t.admonition,{type:"warning",children:(0,a.jsxs)(t.p,{children:["The legacy number array format for geometry data is now deprecated. See ",(0,a.jsx)(t.a,{href:"/whats-new/legacy-formats",children:"here"})," for details."]})}),"\n",(0,a.jsx)(t.p,{children:"Many FRC libraries support the struct format, including WPILib and AdvantageKit. The example code below shows how to log 2D pose data in Java."}),"\n",(0,a.jsxs)(i.A,{groupId:"library",children:[(0,a.jsxs)(s.A,{value:"wpilib",label:"WPILib",default:!0,children:[(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'Pose2d poseA = new Pose2d();\nPose2d poseB = new Pose2d();\n\nStructPublisher<Pose2d> publisher = NetworkTableInstance.getDefault()\n  .getStructTopic("MyPose", Pose2d.struct).publish();\nStructArrayPublisher<Pose2d> arrayPublisher = NetworkTableInstance.getDefault()\n  .getStructArrayTopic("MyPoseArray", Pose2d.struct).publish();\n\nperiodic() {\n  publisher.set(poseA);\n  arrayPublisher.set(new Pose2d[] {poseA, poseB});\n}\n'})}),(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.p,{children:["WPILib's ",(0,a.jsx)(t.a,{href:"https://docs.wpilib.org/en/stable/docs/software/dashboards/glass/field2d-widget.html",children:(0,a.jsx)(t.code,{children:"Field2d"})})," class can also be used to log several sets of 2D pose data together."]})})]}),(0,a.jsx)(s.A,{value:"advantagekit",label:"AdvantageKit",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'Pose2d poseA = new Pose2d();\nPose2d poseB = new Pose2d();\n\nLogger.recordOutput("MyPose", poseA);\nLogger.recordOutput("MyPoseArray", poseA, poseB);\nLogger.recordOutput("MyPoseArray", new Pose2d[] {poseA, poseB});\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Game:"})," The field image to use, defaults to the most recent game. To add a custom field image, see ",(0,a.jsx)(t.a,{href:"/more-features/custom-assets",children:"Custom Assets"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Bumpers:"})," The color of the robot's bumpers. Choosing the switch icon will use the current alliance color."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Origin:"})," The position of the field origin, on the blue or red alliance wall. Choosing the switch icon will use the current alliance color"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Orientation:"})," The orientation of the field image in the viewer pane."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Size:"})," The side length of the robot (30 inches, 27 inches, or 24 inches)."]}),"\n"]}),"\n",(0,a.jsx)(t.admonition,{type:"warning",children:(0,a.jsx)(t.p,{children:"Automatic selection of alliance color may be inaccurate when viewing log data produced by AdvantageKit 2023 or earlier."})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},9365:(e,t,n)=>{n.d(t,{A:()=>i});n(6540);var r=n(4164);const a={tabItem:"tabItem_Ymn6"};var o=n(4848);function i(e){let{children:t,hidden:n,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,i),hidden:n,children:t})}},1470:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(6540),a=n(4164),o=n(3104),i=n(6347),s=n(205),l=n(7485),c=n(1682),d=n(679);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function g(e){let{queryString:t=!1,groupId:n}=e;const a=(0,i.W6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(o),(0,r.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(a.location.search);t.set(o,e),a.replace({...a.location,search:t.toString()})}),[o,a])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,o=h(e),[i,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[c,u]=g({queryString:n,groupId:a}),[m,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,o]=(0,d.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:a}),b=(()=>{const e=c??m;return p({value:e,tabValues:o})?e:null})();(0,s.A)((()=>{b&&l(b)}),[b]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,o]),tabValues:o}}var f=n(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=n(4848);function x(e){let{className:t,block:n,selectedValue:r,selectValue:i,tabValues:s}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),d=e=>{const t=e.currentTarget,n=l.indexOf(t),a=s[n].value;a!==r&&(c(t),i(a))},u=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:s.map((e=>{let{value:t,label:n,attributes:o}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>l.push(e),onKeyDown:u,onClick:d,...o,className:(0,a.A)("tabs__item",b.tabItem,o?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function y(e){let{lazy:t,children:n,selectedValue:o}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===o));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==o})))})}function v(e){const t=m(e);return(0,j.jsxs)("div",{className:(0,a.A)("tabs-container",b.tabList),children:[(0,j.jsx)(x,{...t,...e}),(0,j.jsx)(y,{...t,...e})]})}function w(e){const t=(0,f.A)();return(0,j.jsx)(v,{...e,children:u(e.children)},String(t))}},7813:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/odometry-1-f9b9c4828f5d2e6f6a4d2aa9e20e7330.png"},2062:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/odometry-2-eb905bc95d02b098de25f4ffdcef6bd3.png"},6651:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/timeline-49a7a2d7967ecebb06a54e460dffa7b3.png"},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>s});var r=n(6540);const a={},o=r.createContext(a);function i(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);