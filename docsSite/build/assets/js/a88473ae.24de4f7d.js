"use strict";(self.webpackChunkadvantagescope_docs=self.webpackChunkadvantagescope_docs||[]).push([[316],{6146:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"getting-started/connect-live","title":"Connecting to Live Sources","description":"All visualizations in AdvantageScope are designed to receive live data from a robot or simulator in addition to log files. This section describes how to connect to real time data sources.","source":"@site/docs/getting-started/connect-live.md","sourceDirName":"getting-started","slug":"/getting-started/connect-live","permalink":"/getting-started/connect-live","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"sidebar","previous":{"title":"Managing Log Files","permalink":"/getting-started/manage-files"},"next":{"title":"Keyboard Shortcuts","permalink":"/getting-started/keyboard"}}');var o=n(4848),s=n(8453),r=n(4511);const a={sidebar_position:3},d="Connecting to Live Sources",l={},c=[{value:"Configuration",id:"configuration",level:2},{value:"roboRIO Address",id:"roborio-address",level:3},{value:"Live Source",id:"live-source",level:3},{value:"Live Mode",id:"live-mode",level:3},{value:"Discard Live Data",id:"discard-live-data",level:3},{value:"Starting the Connection",id:"starting-the-connection",level:2},{value:"Viewing Live Data",id:"viewing-live-data",level:2},{value:"Tuning Mode",id:"tuning-mode",level:2},{value:"Tuning With AdvantageKit",id:"tuning-with-advantagekit",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"connecting-to-live-sources",children:"Connecting to Live Sources"})}),"\n",(0,o.jsx)(t.p,{children:"All visualizations in AdvantageScope are designed to receive live data from a robot or simulator in addition to log files. This section describes how to connect to real time data sources."}),"\n",(0,o.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsxs)(t.p,{children:["Open the preferences window by clicking ",(0,o.jsx)(t.code,{children:"Help"})," > ",(0,o.jsx)(t.code,{children:"Show Preferences..."})," (Windows/Linux) or ",(0,o.jsx)(t.code,{children:"AdvantageScope"})," > ",(0,o.jsx)(t.code,{children:"Settings..."})," (macOS)."]}),"\n",(0,o.jsx)("img",{src:r.A,alt:"Diagram of roboRIO preferences",height:"350"}),"\n",(0,o.jsx)(t.h3,{id:"roborio-address",children:"roboRIO Address"}),"\n",(0,o.jsxs)(t.p,{children:["Enter the roboRIO address using a 10.TE.AM.2 IP address as described in the ",(0,o.jsx)(t.a,{href:"https://docs.wpilib.org/en/stable/docs/networking/networking-introduction/ip-configurations.html#te-am-ip-notation",children:"WPILib docs"}),". Click ",(0,o.jsx)(t.code,{children:"File"})," > ",(0,o.jsx)(t.code,{children:"Use USB roboRIO Address"})," to temporarily use the IP address ",(0,o.jsx)(t.code,{children:"172.22.11.2"})," for all connections."]}),"\n",(0,o.jsx)(t.h3,{id:"live-source",children:"Live Source"}),"\n",(0,o.jsx)(t.p,{children:"The following sources of live data are supported by AdvantageScope:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"NetworkTables 4:"})," This is WPILib's primary networking protocol. See the ",(0,o.jsx)(t.a,{href:"https://docs.wpilib.org/en/stable/docs/software/networktables/index.html",children:"WPILib documentation"})," for more details."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"NetworkTables 4 (AdvantageKit):"})," This mode is designed for use with robot code running AdvantageKit, which publishes to the ",(0,o.jsx)(t.code,{children:"AdvantageKit"})," table in NetworkTables."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Phoenix Diagnostics:"})," This mode uses HTTP to connect to a Phoenix ",(0,o.jsx)(t.a,{href:"https://pro.docs.ctr-electronics.com/en/latest/docs/troubleshooting/running-diagnostics.html",children:"diagnostic server"}),", which allows for data streaming from CTRE CAN devices with ",(0,o.jsx)(t.a,{href:"https://pro.docs.ctr-electronics.com/en/latest/",children:"Phoenix 6"}),". This is similar to the ",(0,o.jsx)(t.a,{href:"https://pro.docs.ctr-electronics.com/en/latest/docs/tuner/plotting.html",children:"plotting feature"})," in Phoenix Tuner. See ",(0,o.jsx)(t.a,{href:"/more-features/phoenix-diagnostics",children:"this page"})," for more information."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"PathPlanner 2023:"})," Legacy, this mode connects using the ",(0,o.jsx)(t.code,{children:"PathPlannerServer"})," protocol used for telemetry by PathPlanner 2023. The connection is always initiated on port 5811. Note that PathPlanner 2024 and later publish telemetry data using NetworkTables, so the ",(0,o.jsx)(t.strong,{children:"NetworkTables 4"})," mode should be used."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"RLOG Server:"})," This protocol is supported by AdvantageKit as an alternative to NetworkTables. The connection is initiated on port 5800 by default."]}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"live-mode",children:"Live Mode"}),"\n",(0,o.jsx)(t.p,{children:"When NetworkTables is used as the live source, the following live modes can be selected:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Low Bandwidth (Default):"})," AdvantageScope only requests data from the server for fields that are actively being used. Data published before a field was selected will not be available. This mode is ",(0,o.jsx)(t.strong,{children:"highly recommended"})," when running in an environment with limited network bandwidth, or when a large number of fields are being published."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Logging:"})," AdvantageScope requests data for all fields regardless of whether they are actively being used. This means that fields can be viewed retroactively by pausing the stream of live data (see below). This mode is often useful during development but ",(0,o.jsx)(t.strong,{children:"should NOT be used when bandwidth is limited"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"discard-live-data",children:"Discard Live Data"}),"\n",(0,o.jsx)(t.p,{children:'During a live connection, data is stored locally to allow for replay of past data (see "Viewing Live Data" below). To avoid very high memory usage, data is discarded after 20 minutes by default. A shorter period can be selected to reduce memory usage, or "Never" can be selected to store live data indefinitely.'}),"\n",(0,o.jsx)(t.h2,{id:"starting-the-connection",children:"Starting the Connection"}),"\n",(0,o.jsx)(t.p,{children:'To start the connection to a robot (using the configured "roboRIO Address") or a simulator (using "127.0.0.1"), follow these steps:'}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Robot:"})," Click ",(0,o.jsx)(t.code,{children:"File"})," > ",(0,o.jsx)(t.code,{children:"Connect to Robot"})]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Simulator:"})," Click ",(0,o.jsx)(t.code,{children:"File"})," > ",(0,o.jsx)(t.code,{children:"Connect to Simulator"})]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:'The window title displays the IP address and the text "Searching" until the robot/sim is connected. It attempts to reconnect automatically using the same settings after a disconnect.'}),"\n",(0,o.jsx)(t.h2,{id:"viewing-live-data",children:"Viewing Live Data"}),"\n",(0,o.jsxs)(t.p,{children:["When connected to a live source, AdvantageScope locks all tabs to the current time by default. Views like the \ud83d\udcc9 ",(0,o.jsx)(t.a,{href:"/tab-reference/line-graph",children:"Line Graph"})," and \ud83d\udd22 ",(0,o.jsx)(t.a,{href:"/tab-reference/table",children:"Table"})," autoscroll, and views like odometry and joysticks display the current values of each field. Clicking the red arrow button in the navigation bar toggles this lock, enabling viewing and replay of past data."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Live lock/unlock button",src:n(2104).A+"",width:"740",height:"138"})}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsx)(t.p,{children:"Scrolling to the left in the line graph or timeline unlocks from the current time, and scrolling all the way to the right locks to the current time again."})}),"\n",(0,o.jsx)(t.h2,{id:"tuning-mode",children:"Tuning Mode"}),"\n",(0,o.jsxs)(t.p,{children:["Some live sources support live tuning of numeric and boolean values. For example, this feature can be used to ",(0,o.jsx)(t.a,{href:"https://docs.wpilib.org/en/stable/docs/software/advanced-controls/introduction/tutorial-intro.html",children:"tune controller gains"})," when connected to a NetworkTables source. Note that the robot code must support receiving gains via NetworkTables."]}),"\n",(0,o.jsxs)(t.p,{children:["By default, all values in AdvantageScope are read-only. To toggle tuning mode, ",(0,o.jsx)(t.strong,{children:"click the slider icon"})," to the right of the search bar when connected to a supported live source. When the icon is purple, tuning mode is active and field editing is enabled."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["To edit a ",(0,o.jsx)(t.strong,{children:"numeric field"}),', enter a new value using the text box to the right of the field in the sidebar. The value is published after the input is deselected or the "Enter" key is pressed. Leave the text box blank to use the robot-published value.']}),"\n",(0,o.jsxs)(t.li,{children:["To toggle a ",(0,o.jsx)(t.strong,{children:"boolean field"}),", click the red or green circle to the right of the field in the sidebar."]}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"warning",children:(0,o.jsx)(t.p,{children:"This feature is not intended for controlling the robot on the field. Dashboard-style inputs like choosers, trigger buttons, etc. are not supported."})}),"\n",(0,o.jsx)(t.h3,{id:"tuning-with-advantagekit",children:"Tuning With AdvantageKit"}),"\n",(0,o.jsxs)(t.p,{children:["Fields published by AdvantageKit to the ",(0,o.jsx)(t.code,{children:"AdvantageKit"})," subtable are output-only and cannot be edited. However, users can publish fields from user code that are tunable from AdvantageScope. ",(0,o.jsx)(t.strong,{children:'Any fields published to the "/Tuning" table on NetworkTables will appear under the "Tuning" table when using the "NetworkTables 4 (AdvantageKit)" live source.'})]}),"\n",(0,o.jsxs)(t.p,{children:["For example, a tunable number can be published using the ",(0,o.jsx)(t.a,{href:"https://docs.advantagekit.org/data-flow/recording-inputs/dashboard-inputs",children:(0,o.jsx)(t.code,{children:"LoggedNetworkNumber"})})," class:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-java",children:'LoggedNetworkNumber tunableNumber = new LoggedNetworkNumber("/Tuning/MyTunableNumber", 0.0);\n'})}),"\n",(0,o.jsx)(t.admonition,{type:"warning",children:(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"NetworkInputs"})," subtable ",(0,o.jsx)(t.strong,{children:"cannot be edited"}),", since it is used by AdvantageKit to record network values for logging and replay. Use the ",(0,o.jsx)(t.code,{children:"Tuning"})," table to interact with network inputs in real time."]})})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},4511:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/prefs-2c17764f11f0d1a686382a108bae5fa7.png"},2104:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/open-live-1-5f0a279336f40937e6bef747bbbc919e.png"},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(6540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);